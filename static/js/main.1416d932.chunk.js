(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(12),o=n.n(c),a=(n(21),n(7)),i=n(5),s=n(11),u=n(2),l=(n(22),n(47)),b=n(13),j=n(14),d=n.n(j),O=(n(26),n(1));function f(e){var t=e.importPosition,n=Object(r.useState)(""),c=Object(u.a)(n,2),o=c[0],a=c[1],i=Object(r.useState)(!1),s=Object(u.a)(i,2),l=s[0],b=s[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)("textarea",{placeholder:"Input FEN string",rows:"2",cols:"77",value:o,onChange:function(e){return a(e.target.value)}}),l?Object(O.jsx)("p",{className:"error-message",children:"Invalid FEN string"}):Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:function(){b(!1),t(o).valid||setTimeout((function(){return b(!0)}),200)},children:"Import"})]})}var h=n(10),v=n.p+"static/media/thump1.5dc21a1c.wav",p=n.p+"static/media/thump2.a452eeaf.wav";n(28);function x(e){var t=e.history,n=e.selectedMove,r=e.onClickMove,c=function(e){r(e)};return Object(O.jsxs)("div",{className:"box",children:[Object(O.jsx)("h3",{className:"header",children:"Move History"}),Object(O.jsx)("table",{children:Object(O.jsx)("tbody",{children:t.map((function(e,t,r){var o=Math.floor(t/2)+1,a=r.length&&r.length-1;if("b"===e.color){var i=t>=1?r[t-1].san:null,s=e.san,u=null===i?"empty-move":(t-1===n?"selected":"")+" move",l=(t===n?"selected":"")+" move";return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"rowTurn",children:o}),Object(O.jsx)("td",{className:u,onClick:function(){return i&&c(t-1)},children:i||"..."}),Object(O.jsx)("td",{className:l,onClick:function(){return s&&c(t)},children:s})]},t)}if("w"===e.color&&t===a){var b=e.san,j="".concat(t===n?"selected":""," move");return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"rowTurn",children:o}),Object(O.jsx)("td",{className:j,onClick:function(){return c(t)},children:b}),Object(O.jsx)("td",{})]},t)}}))})})]})}function m(){var e=Object(r.useState)("white"),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)("start"),j=Object(u.a)(o,2),m=j[0],g=j[1],k=Object(r.useState)([]),S=Object(u.a)(k,2),w=S[0],y=S[1],C=Object(r.useState)(["rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"]),q=Object(u.a)(C,2),N=q[0],P=q[1],M=Object(r.useState)(-1),R=Object(u.a)(M,2),I=R[0],B=R[1],E=Object(r.useState)(""),T=Object(u.a)(E,2),F=T[0],K=T[1],A=Object(r.useState)({}),D=Object(u.a)(A,2),H=D[0],J=D[1],Q=Object(r.useState)({}),L=Object(u.a)(Q,2),_=L[0],z=L[1],G=Object(r.useState)([]),U=Object(u.a)(G,2),V=U[0],W=U[1],X=Object(r.useRef)(null);Object(r.useEffect)((function(){X.current=new b}),[]);var Y=function(e){console.log(N[e+1]),g("8/8/8/8/8/8/8/8 w - - 0 1"),setTimeout((function(){g(N[e+1]),K(""),B(e);var t=e>=0?w[e]:void 0;J(te("",t))}),1)},Z=function(e){g(X.current.fen());var t=X.current.history({verbose:!0});y(t);var n=X.current.fen();P([].concat(Object(s.a)(N),[n])),K(""),B(t.length-1),J(te("",e)),ne(e)},$=function(e){return X.current.moves({square:e,verbose:!0}).map((function(e){return e.to}))},ee=function(e,t){return Object(i.a)(Object(i.a)({},e),t)},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={},r=X.current.turn(),c=X.current.get(e);if(c&&r===c.color){n[e]={backgroundColor:"rgba(255, 255, 0, 0.3)"};var o=$(e);o.forEach((function(e){n[e]={background:"radial-gradient(circle, #ffff00 20%, transparent 30%)",borderRadius:"50%"}}))}var a=t;if(a){var i=a.from,s=a.to;n[i]={backgroundColor:"rgba(0, 200, 0, 0.3)"},n[s]={backgroundColor:"rgba(0, 200, 0, 0.3)"}}return n},ne=function(e){null!=e&&(e.flags.includes("c")||e.flags.includes("e")?ae():e.flags.includes("k")||e.flags.includes("q")?(ae(),setTimeout((function(){return ce()}),100)):ce())},re=Object(h.a)(v,{volume:1.5}),ce=Object(u.a)(re,1)[0],oe=Object(h.a)(p,{volume:1.5}),ae=Object(u.a)(oe,1)[0];return Object(O.jsxs)("div",{className:"App",onKeyDown:function(e){"ArrowLeft"===e.key?I>=0&&Y(I-1):"ArrowRight"===e.key?I+1<w.length&&Y(I+1):"0"===e.key&&Y(0)},tabIndex:"0",children:[Object(O.jsx)("h1",{children:"Chess"}),Object(O.jsxs)(l.a,{container:!0,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(d.a,{position:m,orientation:n,width:600,onDrop:function(e){var t=e.sourceSquare,n=e.targetSquare,r=X.current.move({from:t,to:n,promotion:"q"});null!==r&&Z(r)},onMouseOverSquare:function(e){},onMouseOutSquare:function(e){},boardStyle:{borderRadius:"5px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.5)",cursor:"pointer"},squareStyles:H,dropSquareStyle:_,onDragOverSquare:function(e){V.length&&W([]),z("e4"===e||"d4"===e||"e5"===e||"d5"===e?{backgroundColor:"cornFlowerBlue"}:{boxShadow:"inset 0 0 1px 4px rgb(255, 255, 0)"})},onSquareClick:function(e){if(V.length&&W([]),F===e)K(""),J(te(""));else{var t=X.current.move({from:F,to:e,promotion:"q"});null===t?(K(e),J(te(e))):null!==t&&Z(t)}},onSquareRightClick:function(e){var t;V.includes(e)?(t=V.filter((function(t){return t!==e})),W(t)):(t=[].concat(Object(s.a)(V),[e]),W(t)),J(ee(te(""),t.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},t,{backgroundColor:"rgba(205, 92, 92, 0.8)"}))}),{})))}}),Object(O.jsx)("br",{}),Object(O.jsx)(f,{importPosition:function(e){var t=X.current.validate_fen(e);return console.log("Import:",t),t.valid&&(y([]),J({}),X.current.load(e),g(e)),t}}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:function(){"white"===n?c("black"):"black"===n&&c("white")},children:"Flip"})]}),Object(O.jsx)("div",{style:{position:"absolute",left:"1000px"},children:Object(O.jsx)(x,{history:w,selectedMove:I,onClickMove:Y})})]}),Object(O.jsx)("footer",{children:Object(O.jsxs)("div",{children:["Built by ",Object(O.jsx)("a",{href:"https://hwkerr.github.io",children:"Harrison Kerr"})]})})]})}o.a.render(Object(O.jsx)(m,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.1416d932.chunk.js.map